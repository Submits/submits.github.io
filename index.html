<!DOCTYPE html>
<html>
    <head>
        <script src="https://www.marvinj.org/releases/marvinj-0.9.js"></script>
        <title>Classic Minecraft Pixel Art Generator by absq</title>
        <style>
            *{
                font-family: 'Segoe UI';
                text-align: center;
            }

            body{
                padding-bottom: 40px;
                background-color: #121212;
                color: white;
            }

            button{
                border: none;
                border-radius: 5px;
                padding-left: 12px;
                padding-right: 12px;
                padding-top: 8px;
                padding-bottom: 8px;
                font-size: 16px;
                cursor: pointer;
                background-color: #004dff;
                color: white;
            }
            button:hover{
              background-color: #003fd1;
            }

            p{
                max-width: 50%;
                word-wrap: break-word;
                margin: auto;
            }

            img{
                border-radius: 3px;
            }

            input[type=number]{
              border: none;
              background-color: #212121;
              border-radius: 2px;
              color: white;
              height: 25px;
              width: 100px;
            }

            #ylevel{
              width: 225px;
            }
           
            textarea{
              border: none;
              background-color: #212121;
              border-radius: 2px;
              color: white;
            }

        </style>
    </head>
<body>
  <h2>Classic Minecraft Pixel Art Generator</h2>
<p>Image to pixel art generator for <a target="_blank" href="https://classic.minecraft.net">classic.minecraft.net</a>. Either choose a file or paste an image to get started. Not recommended to use pictures of people due to lack of skin colour blocks in the game. It is also in very early beta, so expect bugs.</p><br>
<input id="input" type="file"><br><br>
<img style="height: 200px" id="preview"><br><br>
<label><b>Size (Max is 256px for each length)</b></label><br><br>
<input id="width" min="10" max="256" type="number"> &times; <input  min="10" max="256" id="height" type="number"><br><br>
<label><b>Generation Y-Level (40-50 is best depending on seed)</b></label><br><br>
<input id="ylevel" min="0" max="63" type="number"><br><br>
<button id="gen">Generate!</button><br><br>
<textarea style="width: 50%; resize: vertical; height:200px; text-align: left;" id="output"></textarea>

<canvas style="display: none;" id="canvas" width="500" height="500"></canvas>

</body>

<script src="https://www.marvinj.org/releases/marvinj-0.7.js"></script>
<script>

var ntc = {

init: function() {
  var color, rgb, hsl;
  for(var i = 0; i < ntc.names.length; i++)
  {
    color = "#" + ntc.names[i][0];
    rgb = ntc.rgb(color);
    hsl = ntc.hsl(color);
    ntc.names[i].push(rgb[0], rgb[1], rgb[2], hsl[0], hsl[1], hsl[2]);
  }
},

name: function(color) {

  color = color.toUpperCase();
  if(color.length < 3 || color.length > 7)
    return ["#000000", "Invalid Color: " + color, false];
  if(color.length % 3 == 0)
    color = "#" + color;
  if(color.length == 4)
    color = "#" + color.substr(1, 1) + color.substr(1, 1) + color.substr(2, 1) + color.substr(2, 1) + color.substr(3, 1) + color.substr(3, 1);

  var rgb = ntc.rgb(color);
  var r = rgb[0], g = rgb[1], b = rgb[2];
  var hsl = ntc.hsl(color);
  var h = hsl[0], s = hsl[1], l = hsl[2];
  var ndf1 = 0; ndf2 = 0; ndf = 0;
  var cl = -1, df = -1;

  for(var i = 0; i < ntc.names.length; i++)
  {
    if(color == "#" + ntc.names[i][0])
      return ["#" + ntc.names[i][0], ntc.names[i][1], true];

    ndf1 = Math.pow(r - ntc.names[i][2], 2) + Math.pow(g - ntc.names[i][3], 2) + Math.pow(b - ntc.names[i][4], 2);
    ndf2 = Math.pow(h - ntc.names[i][5], 2) + Math.pow(s - ntc.names[i][6], 2) + Math.pow(l - ntc.names[i][7], 2);
    ndf = ndf1 + ndf2 * 2;
    if(df < 0 || df > ndf)
    {
      df = ndf;
      cl = i;
    }
  }

  return (cl < 0 ? ["#000000", "Invalid Color: " + color, false] : ["#" + ntc.names[cl][0], ntc.names[cl][1], false]);
},

hsl: function (color) {

  var rgb = [parseInt('0x' + color.substring(1, 3)) / 255, parseInt('0x' + color.substring(3, 5)) / 255, parseInt('0x' + color.substring(5, 7)) / 255];
  var min, max, delta, h, s, l;
  var r = rgb[0], g = rgb[1], b = rgb[2];

  min = Math.min(r, Math.min(g, b));
  max = Math.max(r, Math.max(g, b));
  delta = max - min;
  l = (min + max) / 2;

  s = 0;
  if(l > 0 && l < 1)
    s = delta / (l < 0.5 ? (2 * l) : (2 - 2 * l));

  h = 0;
  if(delta > 0)
  {
    if (max == r && max != g) h += (g - b) / delta;
    if (max == g && max != b) h += (2 + (b - r) / delta);
    if (max == b && max != r) h += (4 + (r - g) / delta);
    h /= 6;
  }
  return [parseInt(h * 255), parseInt(s * 255), parseInt(l * 255)];
},


rgb: function(color) {
  return [parseInt('0x' + color.substring(1, 3)), parseInt('0x' + color.substring(3, 5)),  parseInt('0x' + color.substring(5, 7))];
},

names: [["000000","10"],["000080","32"],["0000C8","32"],["0000FF","32"],["000741","34"],["001B1C","37"],["002387","32"],["002900","14"],["002E20","14"],["002FA7","32"],["003153","32"],["003366","32"],["003399","32"],["003532","29"],["003E40","29"],["004620","14"],["0047AB","32"],["004816","14"],["004950","31"],["0056A7","32"],["00581A","14"],["0066CC","31"],["0066FF","31"],["00755E","29"],["0076A3","31"],["007BA7","31"],["007EC7","31"],["007FFF","31"],["008080","29"],["0095B6","30"],["009DC4","30"],["00A693","29"],["00A86B","29"],["00CC99","29"],["00CCCC","30"],["00FF00","28"],["00FF7F","29"],["00FFFF","30"],["010D1A","10"],["011635","32"],["011D13","14"],["012731","31"],["01361C","14"],["01371A","14"],["013E62","32"],["013F6A","32"],["014B43","29"],["015E85","31"],["016162","29"],["016D39","28"],["01796F","29"],["017987","31"],["01826B","29"],["01A368","29"],["022D15","14"],["02402C","14"],["02478E","32"],["024E46","29"],["026395","31"],["02866F","29"],["02A4D3","30"],["03163C","32"],["032B52","32"],["036A6E","30"],["041004","10"],["041322","10"],["042E4C","10"],["044022","28"],["044259","31"],["051040","33"],["051657","33"],["055989","31"],["056F57","29"],["062A78","32"],["063537","37"],["069B81","29"],["06A189","29"],["073A50","31"],["080110","10"],["081910","10"],["082567","32"],["088370","29"],["08E8DE","30"],["092256","32"],["09230F","28"],["09255D","32"],["093624","28"],["095859","29"],["097F4B","29"],["0A001C","10"],["0A480D","28"],["0A6906","28"],["0A6F75","31"],["0B0B0B","10"],["0B0F08","10"],["0B1107","10"],["0B1304","10"],["0B6207","28"],["0BDA51","29"],["0C0B1D","32"],["0C0D0F","10"],["0C1911","10"],["0C7A79","30"],["0C8990","30"],["0D0332","32"],["0D1117","9"],["0D1C19","10"],["0D2E1C","2"],["0E0E18","10"],["0E2A30","2"],["0F2D9E","32"],["10121D","2"],["101405","37"],["105852","29"],["110C6C","32"],["120A8F","32"],["123447","2"],["126B40","29"],["130000","10"],["130A06","10"],["13264D","32"],["134F19","28"],["140600","10"],["1450AA","31"],["151F4C","32"],["1560BD","31"],["15736B","29"],["161928","10"],["161D10","13"],["162A40","12"],["163222","28"],["16322C","28"],["163531","28"],["171F04","13"],["175579","31"],["182D09","28"],["18587A","31"],["19330E","28"],["193751","32"],["1959A8","31"],["1A1A68","32"],["1AB385","29"],["1B0245","32"],["1B1035","32"],["1B127B","33"],["1B1404","3"],["1B2F11","3"],["1B3162","32"],["1B659D","31"],["1C1208","3"],["1C1E13","3"],["1C39BB","32"],["1C402E","29"],["1C7C7D","30"],["1D6142","29"],["1E0F04","3"],["1E1609","3"],["1E1708","3"],["1E385B","32"],["1E433C","29"],["1E90FF","31"],["1E9AB0","30"],["1F120F","3"],["1FC2C2","30"],["20208D","32"],["202E54","32"],["204852","37"],["211A0E","3"],["220878","33"],["228B22","28"],["233418","14"],["240A40","33"],["240C02","3"],["242A1D","3"],["242E16","3"],["24500F","28"],["251607","3"],["251706","3"],["251F4F","33"],["25272C","37"],["25311C","3"],["2596D1","31"],["260368","32"],["26056A","32"],["261105","3"],["261414","3"],["262335","37"],["26283B","37"],["273A81","32"],["27504B","37"],["278A5B","29"],["281E15","3"],["283A77","32"],["286ACD","31"],["290C5E","32"],["292130","37"],["292319","3"],["292937","37"],["297B9A","31"],["29AB87","29"],["2A0359","32"],["2A140E","3"],["2A2630","37"],["2A380B","29"],["2A52BE","32"],["2B0202","3"],["2B194F","33"],["2B3228","3"],["2C0E8C","33"],["2C1632","34"],["2C2133","34"],["2C8C84","30"],["2D2510","3"],["2D383A","37"],["2D569B","32"],["2E0329","36"],["2E1905","3"],["2E3222","3"],["2E3F62","2"],["2E8B57","29"],["2EBFD4","30"],["2F270E","3"],["2F3CB3","32"],["2F519E","32"],["2F5A57","37"],["2F6168","37"],["300529","36"],["301F1E","3"],["302A0F","3"],["304B6A","32"],["30D5C8","30"],["311C17","3"],["314459","37"],["315BA1","31"],["31728D","31"],["317D82","31"],["32127A","32"],["32293A","2"],["323232","2"],["325D52","2"],["327C14","28"],["327DA0","31"],["33036B","33"],["33292F","2"],["33CC99","29"],["341515","3"],["350036","36"],["350E42","36"],["350E57","34"],["353542","37"],["354E8C","31"],["363050","37"],["363534","37"],["363C0D","3"],["36747D","31"],["368716","27"],["370202","3"],["371D09","3"],["37290E","3"],["373021","3"],["377475","37"],["380474","33"],["381A51","34"],["383533","37"],["384555","37"],["384910","27"],["394851","37"],["396413","27"],["3A0020","36"],["3A2010","3"],["3A2A6A","34"],["3A686C","31"],["3A6A47","29"],["3AB09E","30"],["3B000B","3"],["3B0910","3"],["3B1F1F","3"],["3B2820","3"],["3B7A57","29"],["3B91B4","31"],["3C0878","33"],["3C1206","3"],["3C1F76","34"],["3C2005","3"],["3C3910","3"],["3C4151","2"],["3C4443","2"],["3C493A","2"],["3D0C02","24"],["3D2B1F","3"],["3D7D52","29"],["3E0480","32"],["3E1C14","3"],["3E2B23","3"],["3E2C1C","3"],["3E3A44","37"],["3EABBF","30"],["3F2109","3"],["3F2500","3"],["3F3002","3"],["3F307F","33"],["3F4C3A","37"],["3F583B","37"],["3F5D53","37"],["3FC1AA","30"],["3FFF00","28"],["401801","3"],["40291D","3"],["403B38","3"],["403D19","3"],["405169","32"],["40826D","29"],["40A860","29"],["410056","33"],["411F10","3"],["412010","3"],["413C37","2"],["414257","2"],["414C7D","32"],["4169E1","32"],["41AA78","29"],["420303","3"],["423921","3"],["427977","2"],["431560","33"],["433120","3"],["433E37","3"],["434C59","2"],["436A0D","28"],["44012D","36"],["441D00","3"],["444954","2"],["454936","12"],["456CAC","31"],["45B1E8","30"],["460B41","33"],["462425","3"],["465945","29"],["4682B4","31"],["480404","3"],["480607","3"],["480656","33"],["481C1C","3"],["483131","2"],["483C32","2"],["49170C","24"],["492615","3"],["49371B","3"],["495400","27"],["496679","31"],["497183","31"],["4A2A04","3"],["4A3004","3"],["4A3C30","2"],["4A4244","2"],["4A444B","2"],["4A4E5A","2"],["4B0082","33"],["4B5D52","2"],["4C3024","3"],["4C4F56","37"],["4D0135","36"],["4D0A18","24"],["4D1E01","3"],["4D282D","24"],["4D282E","24"],["4D3833","3"],["4D3D14","3"],["4D400F","3"],["4D5328","4"],["4E0606","24"],["4E2A5A","33"],["4E3B41","2"],["4E420C","21"],["4E4562","32"],["4E6649","29"],["4E7F9E","31"],["4EABD1","30"],["4F1C70","33"],["4F2398","33"],["4F69C6","32"],["4F7942","29"],["4F9D5D","28"],["4FA83D","28"],["504351","37"],["507096","31"],["507672","37"],["50C878","29"],["514649","37"],["516E3D","28"],["517C66","29"],["51808F","31"],["52001F","24"],["520C17","24"],["523C94","33"],["533455","34"],["534491","32"],["53824B","28"],["541012","24"],["544333","3"],["54534D","2"],["549019","27"],["55280C","3"],["555B10","27"],["556D56","37"],["5590D9","31"],["56B4BE","30"],["578363","29"],["583401","3"],["585562","2"],["587156","29"],["589AAF","30"],["591D35","36"],["592804","3"],["593737","3"],["594433","3"],["5A6E9C","31"],["5A87A0","31"],["5B3013","3"],["5C0120","24"],["5C0536","36"],["5C2E01","3"],["5C5D75","2"],["5D1E0F","24"],["5D4C51","2"],["5D5C58","2"],["5D5E37","2"],["5D7747","29"],["5DA19F","30"],["5E483E","2"],["5E5D3B","37"],["5F3D26","3"],["5F5F6E","2"],["5F6672","2"],["5FA777","29"],["5FB3AC","30"],["604913","3"],["605B73","32"],["606E68","2"],["6093D1","31"],["612718","3"],["614051","24"],["615D30","27"],["61845F","27"],["622F30","24"],["623F2D","3"],["624E9A","32"],["625119","27"],["626649","27"],["639A8F","29"],["63B76C","29"],["6456B7","32"],["646077","2"],["646463","2"],["646A54","2"],["646E75","2"],["6495ED","31"],["64CCDB","30"],["65000B","24"],["651A14","24"],["652DC1","33"],["657220","27"],["65745D","2"],["65869F","31"],["660045","36"],["660099","33"],["66023C","36"],["661010","24"],["66B58F","29"],["66FF00","27"],["66FF66","28"],["67032D","36"],["675FA6","32"],["676662","2"],["678975","37"],["67A712","27"],["683600","3"],["685558","2"],["685E6E","2"],["692545","36"],["692D54","36"],["695F62","2"],["697E9A","31"],["6A442E","3"],["6A5D1B","4"],["6A6051","2"],["6B2A14","24"],["6B3FA0","33"],["6B4E31","4"],["6B5755","4"],["6B8BA2","31"],["6B8E23","27"],["6C3082","34"],["6CDAE7","30"],["6D0101","24"],["6D5E54","2"],["6D6C6C","2"],["6D9292","30"],["6D92A1","31"],["6E0902","24"],["6E1D14","24"],["6E4826","3"],["6E4B26","3"],["6E6D57","4"],["6E7783","2"],["6F440C","3"],["6F6A61","2"],["6F8E63","29"],["6F9D02","28"],["6FD0C5","30"],["701C1C","24"],["704214","3"],["704A07","3"],["704F50","24"],["706555","2"],["708090","38"],["711A00","24"],["71291D","24"],["714693","34"],["714AB2","34"],["715D47","3"],["716338","4"],["716B56","3"],["716E10","27"],["717486","2"],["718080","2"],["71D9E2","30"],["72010F","24"],["724A2F","3"],["726D4E","4"],["727B89","2"],["731E8F","34"],["734A12","3"],["736C9F","32"],["736D58","2"],["737829","27"],["738678","2"],["74640D","21"],["747D63","2"],["747D83","2"],["748881","2"],["749378","2"],["74C365","28"],["755A57","12"],["7563A8","32"],["76395D","36"],["7666C6","32"],["76BD17","27"],["76D7EA","30"],["770F05","24"],["771F1F","24"],["773F1A","3"],["776F61","12"],["778120","27"],["779E86","38"],["77DD77","28"],["780109","24"],["782D19","24"],["782F16","24"],["78866B","2"],["788A25","27"],["788BBA","32"],["78A39C","37"],["795D4C","12"],["796878","12"],["796989","32"],["796A78","12"],["796D62","2"],["79DEEC","30"],["7A013A","36"],["7A58C1","34"],["7A7A7A","2"],["7A89B8","31"],["7AC488","29"],["7B3801","3"],["7B3F00","3"],["7B6608","3"],["7B7874","2"],["7B7C94","31"],["7B8265","27"],["7B9F80","29"],["7BA05B","27"],["7C1C05","24"],["7C7631","4"],["7C778A","32"],["7C7B7A","2"],["7C7B82","2"],["7C881A","27"],["7CA1A6","29"],["7CB0A1","31"],["7CB7BB","31"],["7D2C14","24"],["7DA98D","27"],["7DC8F7","30"],["7DD8C6","29"],["7E3A15","3"],["7F1734","36"],["7F3A02","3"],["7F626D","37"],["7F7589","32"],["7F76D3","32"],["7FFF00","27"],["7FFFD4","30"],["800000","24"],["800B47","36"],["801818","24"],["80341F","24"],["803790","33"],["80461B","3"],["807E79","2"],["808000","27"],["808080","2"],["80B3AE","29"],["80B3C4","31"],["80CCEA","30"],["81422C","3"],["816E71","12"],["817377","12"],["819885","29"],["826F65","12"],["828685","2"],["828F72","2"],["831923","24"],["837050","3"],["83AA5D","29"],["83D0C6","30"],["843179","34"],["84A0A0","29"],["8581D9","32"],["858470","37"],["859FAF","31"],["85C4CC","30"],["860111","24"],["863C3C","24"],["86483C","24"],["864D1E","3"],["86560A","3"],["868974","37"],["86949F","31"],["871550","36"],["87756E","12"],["877C7B","12"],["878D91","2"],["87AB39","27"],["885342","3"],["886221","4"],["888387","2"],["888D65","27"],["893456","36"],["893843","36"],["894367","35"],["897D6D","12"],["8A3324","24"],["8A73D6","32"],["8A8360","38"],["8A8389","2"],["8A8F8A","2"],["8AB9F1","31"],["8B00FF","33"],["8B0723","24"],["8B6B0B","3"],["8B8470","2"],["8B847E","2"],["8B8680","2"],["8B9C90","2"],["8B9FEE","31"],["8BA690","27"],["8BA9A5","31"],["8BE6D8","30"],["8C055E","36"],["8C472F","3"],["8C5738","3"],["8C6495","32"],["8D0226","24"],["8D3D38","24"],["8D3F3F","24"],["8D7662","3"],["8D8974","12"],["8D90A1","32"],["8DA8CC","31"],["8E0000","24"],["8E4D1E","3"],["8E6F70","12"],["8E775E","12"],["8E8190","12"],["8EABC1","31"],["8F021C","24"],["8F3E33","24"],["8F4B0E","3"],["8F8176","2"],["8FD6B4","29"],["900020","24"],["901E1E","24"],["907874","12"],["907B71","12"],["908D39","27"],["92000A","24"],["924321","24"],["926F5B","4"],["928573","2"],["928590","12"],["9370DB","32"],["93CCEA","30"],["93DFB8","29"],["944747","24"],["948771","4"],["950015","24"],["956387","36"],["959396","2"],["960018","24"],["964B00","3"],["967059","4"],["9678B6","32"],["967BB6","32"],["96A8A1","2"],["96BBAB","29"],["97605D","24"],["9771B5","32"],["97CD2D","27"],["983D61","36"],["9874D3","34"],["98777B","12"],["98811B","27"],["988D77","3"],["98FF98","29"],["990066","36"],["991199","34"],["991613","24"],["991B07","24"],["996666","12"],["9966CC","34"],["997A8D","12"],["9999CC","32"],["9A3820","24"],["9A6E61","12"],["9A9577","27"],["9AB973","27"],["9AC2B8","29"],["9B4703","3"],["9B9E8F","2"],["9C3336","24"],["9D5616","3"],["9DACB7","37"],["9DC209","27"],["9DE093","29"],["9DE5FF","30"],["9E5302","3"],["9E5B40","3"],["9EA587","27"],["9EA91F","27"],["9EB1CD","31"],["9EDEE0","30"],["9F381D","24"],["9F821C","27"],["9F9F9C","2"],["9FA0B1","2"],["9FD7D3","30"],["9FDD8C","28"],["A02712","24"],["A1750D","25"],["A1ADB5","2"],["A1C50A","27"],["A1DAD7","30"],["A1E9DE","29"],["A2006D","35"],["A23B6C","36"],["A26645","3"],["A2AAB3","2"],["A2AEAB","2"],["A3807B","12"],["A397B4","32"],["A3E3ED","30"],["A4A49D","2"],["A4A6D3","32"],["A4AF6E","29"],["A50B5E","36"],["A59B91","2"],["A5CB0C","27"],["A62F20","24"],["A65529","25"],["A68B5B","4"],["A69279","11"],["A6A29A","2"],["A72525","24"],["A7882C","26"],["A85307","25"],["A86515","25"],["A86B6B","24"],["A8989B","37"],["A899E6","32"],["A8A589","2"],["A8AE9C","2"],["A8AF8E","2"],["A8BD9F","29"],["A8E3BD","29"],["A9A491","37"],["A9ACB6","31"],["A9B2C3","31"],["A9B497","39"],["A9BDBF","38"],["A9BEF2","31"],["A9C6C2","30"],["AA375A","36"],["AA4203","25"],["AA8B5B","4"],["AA8D6F","4"],["AAA5A9","3"],["AAA9CD","32"],["AAABB7","2"],["AAD6E6","30"],["AAF0D1","29"],["AB0563","36"],["AB3472","35"],["AB917A","4"],["ABA0D9","32"],["ABA196","38"],["AC8A56","4"],["AC91CE","32"],["AC9E22","26"],["ACA494","2"],["ACA586","2"],["ACA59F","2"],["ACACAC","2"],["ACB78E","2"],["ACCBB1","29"],["ACDD4D","27"],["ACE1AF","29"],["AD781B","25"],["ADBED1","31"],["ADDFAD","29"],["ADE6C4","29"],["ADFF2F","27"],["AE4560","36"],["AE6020","25"],["AE809E","34"],["AF4035","24"],["AF4D43","24"],["AF593E","24"],["AF8751","4"],["AF8F2C","26"],["AF9F1C","27"],["AFA09E","2"],["AFB1B8","2"],["AFBDD9","31"],["B04C6A","36"],["B05D54","24"],["B05E81","36"],["B06608","25"],["B09A95","2"],["B0E0E6","30"],["B0E313","27"],["B10000","24"],["B14A0B","25"],["B1610B","25"],["B16D52","3"],["B19461","4"],["B1E2C1","29"],["B1F4E7","30"],["B20931","24"],["B2A1EA","32"],["B32D29","24"],["B35213","25"],["B38007","25"],["B3AF95","11"],["B3C110","27"],["B43332","24"],["B44668","36"],["B4CFD3","30"],["B57281","24"],["B57EDC","34"],["B5A27F","4"],["B5B35C","26"],["B5D2CE","30"],["B5ECDF","29"],["B6316C","36"],["B69D98","12"],["B6B095","11"],["B6BAA4","2"],["B6D1EA","30"],["B6D3BF","29"],["B7410E","25"],["B78E5C","4"],["B7A214","21"],["B7A458","11"],["B7B1B1","2"],["B7C3D0","30"],["B7F0BE","29"],["B81104","24"],["B87333","25"],["B8B56A","11"],["B8C1B1","2"],["B8C25D","22"],["B8E0F9","30"],["B94E48","24"],["B95140","24"],["B98D28","21"],["B9C46A","27"],["B9C8AC","29"],["BA0101","24"],["BA450C","25"],["BA6F1E","25"],["BA7F03","21"],["BAB1A2","2"],["BAC7C9","38"],["BAEEF9","30"],["BB3385","36"],["BB8983","24"],["BBD009","27"],["BBD7C1","37"],["BCC9C2","37"],["BD5E2E","25"],["BD978E","12"],["BDB1A8","2"],["BDB2A1","2"],["BDB3C7","32"],["BDBBD7","32"],["BDBDC6","2"],["BDC8B3","2"],["BDC9CE","2"],["BDEDFD","30"],["BEA6C3","32"],["BEB5B7","2"],["BEDE0D","27"],["BF5500","25"],["BFB8B0","2"],["BFBED8","32"],["BFC1C2","2"],["BFC921","27"],["BFDBE2","31"],["BFFF00","27"],["C02B18","24"],["C04737","24"],["C08081","12"],["C0C0C0","2"],["C0D3B9","2"],["C0D8B6","27"],["C1440E","25"],["C154C1","35"],["C1A004","26"],["C1B7A4","12"],["C1BAB0","2"],["C1BECD","32"],["C1D7B0","27"],["C1F07C","27"],["C26B03","25"],["C2955D","4"],["C2BDB6","38"],["C2CAC4","38"],["C2E8E5","30"],["C32148","36"],["C3B091","4"],["C3BFC1","2"],["C3C3BD","2"],["C3CDE6","31"],["C3D1D1","2"],["C3DDF9","31"],["C41E3A","36"],["C45655","24"],["C45719","25"],["C4C4BC","2"],["C4D0B0","28"],["C4F4EB","30"],["C54B8C","35"],["C59922","25"],["C5994B","4"],["C5DBCA","29"],["C5E17A","27"],["C62D42","24"],["C6726B","24"],["C69191","12"],["C6A84B","26"],["C6C3B5","37"],["C6C8BD","37"],["C6E610","27"],["C7031E","24"],["C71585","36"],["C7BCA2","11"],["C7C1FF","32"],["C7C4BF","2"],["C7C9D5","2"],["C7CD90","11"],["C7DDE5","30"],["C88A65","25"],["C8A2C8","36"],["C8A528","26"],["C8AABF","2"],["C8B568","4"],["C8E3D7","30"],["C96323","25"],["C99415","26"],["C9A0DC","32"],["C9B29B","4"],["C9B35B","4"],["C9B93B","26"],["C9C0BB","2"],["C9D9D2","38"],["C9FFA2","27"],["C9FFE5","30"],["CA3435","24"],["CABB48","26"],["CADCD4","2"],["CAE00D","26"],["CAE6DA","29"],["CB8FA9","36"],["CBCAB6","12"],["CBD3B0","27"],["CBDBD6","38"],["CC3333","24"],["CC5500","25"],["CC7722","25"],["CC8899","35"],["CCCAA8","11"],["CCCCFF","32"],["CCFF00","26"],["CD5700","25"],["CD5C5C","24"],["CD8429","25"],["CDF4FF","30"],["CEB98F","11"],["CEBABA","2"],["CEC291","11"],["CEC7A7","11"],["CFA39D","12"],["CFB53B","26"],["CFDCCF","2"],["CFE5D2","29"],["CFF9F3","30"],["CFFAF4","30"],["D05F04","25"],["D06DA1","36"],["D07D12","25"],["D0BEF8","32"],["D0C0E5","32"],["D0F0C0","29"],["D18F1B","25"],["D1BEA8","12"],["D1C6B4","2"],["D1D2CA","2"],["D1D2DD","2"],["D1E231","27"],["D2691E","25"],["D27D46","25"],["D29EAA","32"],["D2B48C","11"],["D2DA97","27"],["D2F6DE","30"],["D2F8B0","27"],["D3CBBA","38"],["D3CDC5","38"],["D47494","36"],["D4B6AF","12"],["D4BF8D","4"],["D4C4A8","4"],["D4CD16","27"],["D4D7D9","2"],["D4DFE2","2"],["D4E2FC","31"],["D54600","24"],["D591A4","36"],["D59A6F","3"],["D5D195","11"],["D5F6E3","30"],["D69188","24"],["D6C562","22"],["D6CEF6","32"],["D6D6D1","38"],["D6FFDB","29"],["D7837F","36"],["D7C498","11"],["D7D0FF","32"],["D84437","24"],["D87C63","12"],["D8BFD8","32"],["D8C2D5","32"],["D8FCFA","30"],["D94972","36"],["D99376","3"],["D9B99B","11"],["D9D6CF","38"],["D9DCC1","11"],["D9E4F5","31"],["D9F7FF","30"],["DA3287","36"],["DA5B38","25"],["DA6304","25"],["DA6A41","25"],["DA70D6","34"],["DA8A67","25"],["DAA520","26"],["DAECD6","29"],["DAF4F0","30"],["DAFAFF","30"],["DB5079","36"],["DB9690","24"],["DB995E","25"],["DBDBDB","38"],["DBFFF8","30"],["DC143C","24"],["DC4333","24"],["DCB20C","26"],["DCB4BC","36"],["DCD747","26"],["DCD9D2","38"],["DCDDCC","38"],["DCEDB4","11"],["DCF0EA","30"],["DDD6D5","38"],["DDF9F1","30"],["DE3163","36"],["DE6360","24"],["DEA681","25"],["DEBA13","26"],["DEC196","11"],["DECBC6","39"],["DED4A4","11"],["DED717","26"],["DEE5C0","11"],["DEF5FF","30"],["DF73FF","34"],["DFBE6F","4"],["DFCD6F","4"],["DFCFDB","38"],["DFECDA","39"],["DFFF00","21"],["E0B0FF","32"],["E0B646","25"],["E0B974","4"],["E0C095","4"],["E0FFFF","30"],["E16865","24"],["E1BC64","4"],["E1C0C8","35"],["E1E6D6","38"],["E1EAD4","11"],["E1F6E8","39"],["E25465","24"],["E2725B","24"],["E28913","25"],["E292C0","35"],["E29418","25"],["E29CD2","35"],["E2D8ED","39"],["E2EBED","39"],["E2F3EC","38"],["E30B5C","24"],["E32636","24"],["E34234","24"],["E3BEBE","38"],["E3F5E1","39"],["E3F988","26"],["E47698","36"],["E49B0F","25"],["E4C2D5","38"],["E4CFDE","38"],["E4D1C0","38"],["E4D422","26"],["E4D5B7","11"],["E4D69B","11"],["E4F6E7","27"],["E4FFD1","27"],["E52B50","24"],["E5841B","25"],["E5CCC9","12"],["E5D7BD","11"],["E5D8AF","11"],["E5E0E1","38"],["E5E5E5","2"],["E5F9F6","30"],["E64E03","25"],["E6BE8A","4"],["E6BEA5","11"],["E6D7B9","11"],["E6E4D4","39"],["E6F2EA","39"],["E6F8F3","39"],["E6FFE9","39"],["E6FFFF","39"],["E77200","25"],["E7730A","25"],["E79F8C","24"],["E79FC4","35"],["E7BCB4","12"],["E7BF05","26"],["E7CD8C","11"],["E7ECE6","39"],["E7F8FF","39"],["E7FEFF","39"],["E89928","25"],["E8B9B3","12"],["E8E0D5","38"],["E8EBE0","39"],["E8F1D4","11"],["E8F2EB","39"],["E8F5F2","39"],["E96E00","25"],["E97451","24"],["E97C07","25"],["E9CECD","12"],["E9D75A","21"],["E9E3E3","39"],["E9F8ED","39"],["E9FFFD","39"],["EA88A8","36"],["EAAE69","25"],["EAB33B","26"],["EAC674","11"],["EADAB8","39"],["EAE8D4","39"],["EAF6EE","39"],["EAF6FF","39"],["EAF9F5","39"],["EAFFFE","39"],["EB9373","25"],["EBC2AF","12"],["ECA927","25"],["ECC54E","26"],["ECC7EE","32"],["ECCDB9","12"],["ECE090","26"],["ECEBBD","11"],["ECEBCE","39"],["ECF245","26"],["ED0A3F","24"],["ED7A1C","25"],["ED9121","25"],["ED989E","36"],["EDB381","25"],["EDC9AF","11"],["EDCDAB","11"],["EDDCB1","11"],["EDEA99","11"],["EDF5DD","39"],["EDF5F5","39"],["EDF6FF","39"],["EDF9F1","39"],["EDFC84","26"],["EE82EE","36"],["EEC1BE","11"],["EED794","11"],["EED9C4","39"],["EEDC82","26"],["EEDEDA","39"],["EEE3AD","11"],["EEEEE8","39"],["EEEF78","26"],["EEF0C8","11"],["EEF0F3","38"],["EEF3C3","11"],["EEF4DE","39"],["EEF6F7","39"],["EEFDFF","39"],["EEFF9A","26"],["EEFFE2","39"],["EF863F","25"],["EFEFEF","38"],["EFF2F3","38"],["F091A9","36"],["F0D52D","21"],["F0DB7D","11"],["F0DC82","11"],["F0E2EC","39"],["F0E68C","26"],["F0EEFD","38"],["F0EEFF","38"],["F0F8FF","39"],["F0FCEA","39"],["F18200","25"],["F19BAB","36"],["F1E788","11"],["F1E9D2","39"],["F1E9FF","39"],["F1EEC1","11"],["F1F1F1","39"],["F1F7F2","39"],["F1FFAD","11"],["F1FFC8","11"],["F2552A","25"],["F28500","25"],["F2C3B2","11"],["F2F2F2","39"],["F2FAFA","39"],["F34723","24"],["F3AD16","25"],["F3D69D","11"],["F3D9DF","32"],["F3E7BB","11"],["F3E9E5","39"],["F3EDCF","11"],["F3FB62","26"],["F3FBD4","11"],["F3FFD8","11"],["F400A1","35"],["F4A460","25"],["F4C430","26"],["F4D81C","26"],["F4EBD3","11"],["F4F2EE","39"],["F4F4F4","39"],["F4F8FF","39"],["F57584","36"],["F5C85C","25"],["F5C999","11"],["F5D5A0","11"],["F5DEB3","11"],["F5E7A2","11"],["F5E7E2","39"],["F5E9D3","39"],["F5EDEF","39"],["F5F3E5","39"],["F5F5DC","11"],["F5FB3D","26"],["F5FFBE","11"],["F64A8A","36"],["F653A6","35"],["F6A4C9","32"],["F6F0E6","39"],["F6F7F7","39"],["F6FFDC","11"],["F7468A","36"],["F77703","25"],["F77FBE","35"],["F7B668","25"],["F7C8DA","32"],["F7DBE6","39"],["F7F2E1","11"],["F7F5FA","39"],["F7FAF7","39"],["F8B853","25"],["F8C3DF","32"],["F8D9E9","39"],["F8DB9D","11"],["F8DD5C","26"],["F8E4BF","11"],["F8F0E8","39"],["F8F4FF","39"],["F8F6F1","39"],["F8F7DC","39"],["F8F7FC","39"],["F8F8F7","39"],["F8F99C","11"],["F8FACD","11"],["F8FDD3","11"],["F95A61","24"],["F9BF58","25"],["F9E0ED","32"],["F9E4BC","11"],["F9E663","26"],["F9EAF3","39"],["F9F8E4","39"],["F9FF8B","11"],["F9FFF6","39"],["FA7814","25"],["FA9D5A","25"],["FAD3A2","11"],["FADFAD","11"],["FAE600","21"],["FAEAB9","11"],["FAECCC","11"],["FAF0E6","39"],["FAF3F0","39"],["FAF7D6","11"],["FAFAFA","39"],["FAFDE4","11"],["FAFFA4","26"],["FB607F","36"],["FB8989","24"],["FBA0E3","32"],["FBA129","25"],["FBAC13","25"],["FBAED2","32"],["FBB2A3","32"],["FBBEDA","32"],["FBCCE7","32"],["FBCEB1","11"],["FBE7B2","11"],["FBE870","26"],["FBE96C","26"],["FBEA8C","11"],["FBEC5D","26"],["FBF9F9","39"],["FBFFBA","11"],["FC0FC0","36"],["FC80A5","36"],["FC9C1D","25"],["FCC01E","26"],["FCD667","11"],["FCD917","21"],["FCDA98","11"],["FCF4D0","39"],["FCF4DC","39"],["FCF8F7","39"],["FCFBF3","39"],["FCFEDA","11"],["FCFFE7","39"],["FCFFF9","39"],["FD0E35","24"],["FD5B78","24"],["FD7B33","25"],["FD7C07","25"],["FD9FA2","24"],["FDD5B1","11"],["FDD7E4","39"],["FDE1DC","39"],["FDE295","11"],["FDE910","21"],["FDF5E6","39"],["FDF6D3","11"],["FDF7AD","11"],["FDFEB8","11"],["FDFFD5","11"],["FE28A2","36"],["FE4C40","24"],["FE6F5E","24"],["FE9D04","25"],["FEA904","25"],["FEBAAD","11"],["FED33C","26"],["FED85D","26"],["FEDB8D","25"],["FEE5AC","11"],["FEEBF3","39"],["FEEFCE","11"],["FEF0EC","39"],["FEF2C7","11"],["FEF3D8","11"],["FEF4CC","11"],["FEF4DB","11"],["FEF4F8","39"],["FEF5F1","39"],["FEF7DE","11"],["FEF8E2","11"],["FEF8FF","39"],["FEF9E3","11"],["FEFCED","11"],["FF0000","24"],["FF007F","36"],["FF00CC","35"],["FF00FF","34"],["FF2400","24"],["FF3399","36"],["FF33CC","35"],["FF355E","24"],["FF3F34","24"],["FF4040","24"],["FF4D00","25"],["FF4F00","25"],["FF6037","25"],["FF6600","25"],["FF66FF","35"],["FF681F","25"],["FF69B4","35"],["FF6B53","24"],["FF6FFF","36"],["FF7034","25"],["FF7518","25"],["FF7D07","25"],["FF7F00","25"],["FF7F50","25"],["FF8C69","25"],["FF9000","25"],["FF910F","25"],["FF91A4","35"],["FF9933","25"],["FF9966","25"],["FF9980","25"],["FF9E2C","25"],["FFA000","25"],["FFA194","35"],["FFA500","25"],["FFA6C9","35"],["FFAB81","35"],["FFAE42","25"],["FFB0AC","35"],["FFB1B3","35"],["FFB31F","25"],["FFB555","25"],["FFB7D5","25"],["FFB97B","25"],["FFBA00","25"],["FFBD5F","25"],["FFBF00","25"],["FFC0A8","35"],["FFC0CB","35"],["FFC3C0","35"],["FFC901","26"],["FFCBA4","11"],["FFCC33","26"],["FFCC5C","26"],["FFCC99","11"],["FFCD8C","11"],["FFD1DC","39"],["FFD2B7","11"],["FFD38C","11"],["FFD700","26"],["FFD800","26"],["FFD8D9","11"],["FFDB58","26"],["FFDCD6","11"],["FFDDAF","11"],["FFDDCD","11"],["FFDDCF","11"],["FFDDF4","35"],["FFDEAD","11"],["FFDEB3","11"],["FFE1DF","11"],["FFE1F2","11"],["FFE2C5","11"],["FFE5A0","26"],["FFE5B4","11"],["FFE6C7","11"],["FFE772","26"],["FFEAC8","11"],["FFEAD4","11"],["FFEC13","26"],["FFEDBC","11"],["FFEED8","11"],["FFEFA1","11"],["FFEFC1","11"],["FFEFD5","11"],["FFEFEC","11"],["FFF0DB","11"],["FFF0F5","39"],["FFF14F","26"],["FFF1B5","11"],["FFF1D8","11"],["FFF1EE","11"],["FFF1F9","11"],["FFF39D","11"],["FFF3F1","39"],["FFF46E","26"],["FFF4CE","11"],["FFF4DD","11"],["FFF4E0","39"],["FFF4E8","39"],["FFF4F3","39"],["FFF5EE","39"],["FFF5F3","39"],["FFF6D4","11"],["FFF6DF","11"],["FFF6F5","39"],["FFF8D1","11"],["FFF9E2","11"],["FFF9E6","39"],["FFFACD","11"],["FFFAF4","39"],["FFFBDC","11"],["FFFBF9","39"],["FFFC99","26"],["FFFCEA","11"],["FFFCEE","39"],["FFFDD0","11"],["FFFDE6","39"],["FFFDE8","39"],["FFFDF3","39"],["FFFDF4","39"],["FFFEE1","39"],["FFFEEC","39"],["FFFEF0","39"],["FFFEF6","39"],["FFFEFD","39"],["FFFF00","26"],["FFFF66","26"],["FFFF99","26"],["FFFFB4","11"],["FFFFF0","39"],["FFFFFF","39"]]

}

ntc.init();
</script>
<script>


window.onload = function(){

document.getElementById("gen").onclick = function(){
    canvas.width = document.getElementById("width").value
    canvas.height = document.getElementById("height").value
    createImage(base64)

}


window.addEventListener("paste", function(e){
var item = Array.from(e.clipboardData.items).find(x => /^image\//.test(x.type));     
var blob = item.getAsFile();
let reader = new FileReader();
reader.onload = function(e) {
 document.getElementById("preview").src = reader.result
 base64 = reader.result
}
reader.readAsDataURL(blob);


});

var file = document.getElementById("input");
file.addEventListener('change', function () {

let reader = new FileReader();
reader.onload = function(e) {
 document.getElementById("preview").src = reader.result
 base64 = reader.result
}
reader.readAsDataURL(file.files[0]);

});
}


function createImage(base64){
  
image = new MarvinImage();
image.load(base64, imageLoaded);
}

function imageLoaded(){

  
  var canvas = document.getElementById("canvas");


    let changedBlocks = ""
    let z = 50

    Marvin.scale(image.clone(), image, 128,128);


  for(var y=0; y<image.getHeight(); y++){
    for(var x=0; x<image.getWidth(); x++){

      var red = image.getIntComponent0(x,y);
      var green = image.getIntComponent1(x,y);
      var blue = image.getIntComponent2(x,y);
      var alpha = image.getAlphaComponent(x,y);
      


      var n_match = ntc.name(rgb2hex(red, green, blue));

      
            changedBlocks += '"p' + (y) + '_' + document.getElementById("ylevel").value   + '_' + (x) + '":{"a":1,"bt":' + n_match[1] + '},'
        
        
      
    }
  }
  
  image.draw(canvas);


  var seed = '';
var characters = '123456789';
    for ( var i = 0; i < 14; i++ ) {
      seed += characters.charAt(Math.floor(Math.random() * characters.length));
   }

   changedBlocks = changedBlocks.substring(0, changedBlocks.length - 1)
changedBlocks = '"changedBlocks":{' + changedBlocks + '}'


let result =""

if(document.getElementById("width").value > 128 || document.getElementById("width").value > 128){
    result = '{"worldSeed":' + seed + ',' + changedBlocks + ',"worldSize":256,"version":2}'
}
else{
    result = '{"worldSeed":' + seed + ',' + changedBlocks + ',"worldSize":128,"version":2}'
}

console.log(result)
document.getElementById("output").value = result
  

}


function hexstr(number) {
    var chars = new Array("0", "1", "2", "3", "4", "5", "6", "7", "8", "9", "a", "b", "c", "d", "e", "f");
    var low = number & 0xf;
    var high = (number >> 4) & 0xf;
    return "" + chars[high] + chars[low];
}


function rgb2hex(r, g, b) {
    return "#" + hexstr(r) + hexstr(g) + hexstr(b);
}
</script>
    </html>
